--
-- PostgreSQL database dump
--

-- Dumped from database version 16.4
-- Dumped by pg_dump version 16.4

-- Started on 2024-09-14 17:35:57

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4 (class 2615 OID 2200)
-- Name: public; Type: SCHEMA; Schema: -; Owner: pg_database_owner
--

CREATE SCHEMA public;


ALTER SCHEMA public OWNER TO pg_database_owner;

--
-- TOC entry 3410 (class 0 OID 0)
-- Dependencies: 4
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: pg_database_owner
--

COMMENT ON SCHEMA public IS 'standard public schema';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 217 (class 1259 OID 24582)
-- Name: Buses; Type: TABLE; Schema: public; Owner: busmanager_owner
--

CREATE TABLE public."Buses" (
    "Id" integer NOT NULL,
    "Model" character varying(50) NOT NULL,
    "Plate" character varying(10) NOT NULL,
    "Active" integer NOT NULL
);


ALTER TABLE public."Buses" OWNER TO busmanager_owner;

--
-- TOC entry 216 (class 1259 OID 24581)
-- Name: Bus_Id_seq; Type: SEQUENCE; Schema: public; Owner: busmanager_owner
--

ALTER TABLE public."Buses" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Bus_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 32771)
-- Name: Drivers; Type: TABLE; Schema: public; Owner: busmanager_owner
--

CREATE TABLE public."Drivers" (
    "Id" integer NOT NULL,
    "CPF" character varying(14) NOT NULL,
    "Name" character varying(15) NOT NULL,
    "Surname" character varying(15) NOT NULL,
    "Birthday" date NOT NULL,
    "HireDate" date NOT NULL,
    "Active" integer NOT NULL
);


ALTER TABLE public."Drivers" OWNER TO busmanager_owner;

--
-- TOC entry 218 (class 1259 OID 32770)
-- Name: Drivers_Id_seq; Type: SEQUENCE; Schema: public; Owner: busmanager_owner
--

ALTER TABLE public."Drivers" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Drivers_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 49153)
-- Name: Lines; Type: TABLE; Schema: public; Owner: busmanager_owner
--

CREATE TABLE public."Lines" (
    "Id" integer NOT NULL,
    "Name" character varying(50) NOT NULL,
    "Code" character varying(10) NOT NULL,
    "Origin" character varying(20) NOT NULL,
    "Destiny" character varying(20) NOT NULL,
    "Description" character varying(50) NOT NULL,
    "Active" integer NOT NULL
);


ALTER TABLE public."Lines" OWNER TO busmanager_owner;

--
-- TOC entry 222 (class 1259 OID 49152)
-- Name: Lines_Id_seq; Type: SEQUENCE; Schema: public; Owner: busmanager_owner
--

ALTER TABLE public."Lines" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Lines_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 73745)
-- Name: StationDto; Type: TABLE; Schema: public; Owner: busmanager_owner
--

CREATE TABLE public."StationDto" (
    "Id" integer NOT NULL,
    "Address" text NOT NULL,
    "Number" text NOT NULL
);


ALTER TABLE public."StationDto" OWNER TO busmanager_owner;

--
-- TOC entry 227 (class 1259 OID 73744)
-- Name: StationDto_Id_seq; Type: SEQUENCE; Schema: public; Owner: busmanager_owner
--

ALTER TABLE public."StationDto" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."StationDto_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 40961)
-- Name: Stations; Type: TABLE; Schema: public; Owner: busmanager_owner
--

CREATE TABLE public."Stations" (
    "Id" integer NOT NULL,
    "Address" character varying(100) NOT NULL,
    "Number" character varying(10) NOT NULL,
    "Active" integer DEFAULT 0 NOT NULL
);


ALTER TABLE public."Stations" OWNER TO busmanager_owner;

--
-- TOC entry 220 (class 1259 OID 40960)
-- Name: Stations_Id_seq; Type: SEQUENCE; Schema: public; Owner: busmanager_owner
--

ALTER TABLE public."Stations" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Stations_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 57344)
-- Name: Stops; Type: TABLE; Schema: public; Owner: busmanager_owner
--

CREATE TABLE public."Stops" (
    "LineId" integer NOT NULL,
    "StationId" integer NOT NULL,
    "Hour" timestamp with time zone NOT NULL
);


ALTER TABLE public."Stops" OWNER TO busmanager_owner;

--
-- TOC entry 226 (class 1259 OID 65562)
-- Name: Trips; Type: TABLE; Schema: public; Owner: busmanager_owner
--

CREATE TABLE public."Trips" (
    "Id" integer NOT NULL,
    "BusId" integer NOT NULL,
    "DriverId" integer NOT NULL,
    "LineId" integer NOT NULL,
    "StartTime" timestamp with time zone NOT NULL,
    "EndTime" timestamp with time zone NOT NULL
);


ALTER TABLE public."Trips" OWNER TO busmanager_owner;

--
-- TOC entry 225 (class 1259 OID 65561)
-- Name: Trips_Id_seq; Type: SEQUENCE; Schema: public; Owner: busmanager_owner
--

ALTER TABLE public."Trips" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Trips_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 215 (class 1259 OID 24576)
-- Name: __EFMigrationsHistory; Type: TABLE; Schema: public; Owner: busmanager_owner
--

CREATE TABLE public."__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);


ALTER TABLE public."__EFMigrationsHistory" OWNER TO busmanager_owner;

--
-- TOC entry 3393 (class 0 OID 24582)
-- Dependencies: 217
-- Data for Name: Buses; Type: TABLE DATA; Schema: public; Owner: busmanager_owner
--

COPY public."Buses" ("Id", "Model", "Plate", "Active") FROM stdin;
6	BYD K9	BCD7890	1
7	Volvo B12	ABC1234	1
8	Mercedes-Benz O500	DEF5678	1
9	Scania K310	GHI9012	1
10	Volkswagen 18.330	JKL3456	0
11	MAN Lion’s City	MNO7890	1
12	Iveco Crossway	PQR1234	1
13	DAF SB3000	STU5678	0
14	Neoplan Cityliner	VWX9012	1
15	Van Hool A300	YZA3456	0
\.


--
-- TOC entry 3395 (class 0 OID 32771)
-- Dependencies: 219
-- Data for Name: Drivers; Type: TABLE DATA; Schema: public; Owner: busmanager_owner
--

COPY public."Drivers" ("Id", "CPF", "Name", "Surname", "Birthday", "HireDate", "Active") FROM stdin;
7	123.456.789-01	Guilherme	Siedschlag	1980-05-10	2020-03-15	1
8	234.567.890-12	Rebeca	Schroeder	1985-07-22	2019-01-10	1
9	345.678.901-23	Gabrielli	Siedschlag	1990-12-01	2021-05-25	1
10	456.789.012-34	Ana	Costa	1992-03-19	2018-11-30	1
11	567.890.123-45	Paulo	Lima	1978-09-14	2022-08-12	1
12	678.901.234-56	Fernanda	Ribeiro	1982-11-06	2020-02-20	1
13	789.012.345-67	Ricardo	Pereira	1987-04-18	2019-06-09	0
14	890.123.456-78	Juliana	Mendes	1995-02-28	2021-12-03	1
15	901.234.567-89	Lucas	Alves	1991-10-17	2022-07-15	0
16	012.345.678-90	Aline	Martins	1984-01-25	2018-09-19	1
\.


--
-- TOC entry 3399 (class 0 OID 49153)
-- Dependencies: 223
-- Data for Name: Lines; Type: TABLE DATA; Schema: public; Owner: busmanager_owner
--

COPY public."Lines" ("Id", "Name", "Code", "Origin", "Destiny", "Description", "Active") FROM stdin;
16	Sul/Norte via Parque Central	S12X	Sul	Norte	Rota que passa pelo Parque Central	1
17	Circular Bairro Y	C21B	Centro	Centro	Rota circular abrangendo o Bairro Y	1
18	Norte/Sul via Av. Principal	N34D	Norte	Sul	Ligação pelo eixo central da cidade	1
19	Oeste/Leste via Jardim Florido	O56E	Oeste	Leste	Passagem pelo Jardim Florido	1
20	Expresso Aeroporto via Rodoviária	X78A	Centro	Aeroporto	Rota expressa com parada na rodoviária	1
21	Centro/Sul via Bairro Industrial	C89I	Centro	Sul	Rota industrial para a zona sul	1
22	Leste/Oeste via Shopping Center	L65Z	Leste	Oeste	Conexão com o shopping center	1
23	Circular Zona Norte	Z92N	Norte	Norte	Rota circular pela zona norte	1
24	Norte/Sul via Estação Ferroviária	N72F	Norte	Sul	Passagem pela estação ferroviária	1
25	Sul/Norte via Bairro Jardim	S13J	Sul	Norte	Rota passando pelo Bairro Jardim	0
\.


--
-- TOC entry 3404 (class 0 OID 73745)
-- Dependencies: 228
-- Data for Name: StationDto; Type: TABLE DATA; Schema: public; Owner: busmanager_owner
--

COPY public."StationDto" ("Id", "Address", "Number") FROM stdin;
\.


--
-- TOC entry 3397 (class 0 OID 40961)
-- Dependencies: 221
-- Data for Name: Stations; Type: TABLE DATA; Schema: public; Owner: busmanager_owner
--

COPY public."Stations" ("Id", "Address", "Number", "Active") FROM stdin;
12	Av. Paulista	1000	1
13	Rua Augusta	250	1
14	Av. Brasil	3500	1
15	Rua das Flores	45	0
16	Av. Rio Branco	900	1
17	Rua XV de Novembro	120	1
18	Av. Getúlio Vargas	580	0
19	Rua São João	320	1
20	Av. Ipiranga	1500	1
21	Rua Liberdade	77	1
\.


--
-- TOC entry 3400 (class 0 OID 57344)
-- Dependencies: 224
-- Data for Name: Stops; Type: TABLE DATA; Schema: public; Owner: busmanager_owner
--

COPY public."Stops" ("LineId", "StationId", "Hour") FROM stdin;
25	12	0001-01-01 22:00:00+00
16	12	0001-01-01 09:30:00+00
16	13	0001-01-01 09:45:00+00
16	14	0001-01-01 10:00:00+00
16	16	0001-01-01 10:15:00+00
16	17	0001-01-01 10:30:00+00
17	18	0001-01-01 11:00:00+00
17	19	0001-01-01 11:15:00+00
17	20	0001-01-01 11:30:00+00
17	21	0001-01-01 11:45:00+00
17	12	0001-01-01 12:00:00+00
18	13	0001-01-01 12:15:00+00
18	14	0001-01-01 12:30:00+00
18	15	0001-01-01 12:45:00+00
18	16	0001-01-01 13:00:00+00
18	17	0001-01-01 13:15:00+00
19	18	0001-01-01 13:30:00+00
19	19	0001-01-01 13:45:00+00
19	20	0001-01-01 14:00:00+00
19	21	0001-01-01 14:15:00+00
19	12	0001-01-01 14:30:00+00
20	13	0001-01-01 14:45:00+00
20	14	0001-01-01 15:00:00+00
20	15	0001-01-01 15:15:00+00
20	16	0001-01-01 15:30:00+00
20	17	0001-01-01 15:45:00+00
21	18	0001-01-01 16:00:00+00
21	19	0001-01-01 16:15:00+00
21	20	0001-01-01 16:30:00+00
21	21	0001-01-01 16:45:00+00
21	12	0001-01-01 17:00:00+00
22	13	0001-01-01 17:15:00+00
22	14	0001-01-01 17:30:00+00
22	15	0001-01-01 17:45:00+00
22	16	0001-01-01 18:00:00+00
22	17	0001-01-01 18:15:00+00
23	18	0001-01-01 18:30:00+00
23	19	0001-01-01 18:45:00+00
23	20	0001-01-01 19:00:00+00
23	21	0001-01-01 19:15:00+00
23	12	0001-01-01 19:30:00+00
24	13	0001-01-01 19:45:00+00
24	14	0001-01-01 20:00:00+00
24	15	0001-01-01 20:15:00+00
24	16	0001-01-01 20:30:00+00
24	17	0001-01-01 20:45:00+00
25	18	0001-01-01 21:00:00+00
25	19	0001-01-01 21:15:00+00
25	20	0001-01-01 21:30:00+00
25	21	0001-01-01 21:45:00+00
\.


--
-- TOC entry 3402 (class 0 OID 65562)
-- Dependencies: 226
-- Data for Name: Trips; Type: TABLE DATA; Schema: public; Owner: busmanager_owner
--

COPY public."Trips" ("Id", "BusId", "DriverId", "LineId", "StartTime", "EndTime") FROM stdin;
2	6	8	17	2024-09-15 11:00:00+00	2024-09-15 12:00:00+00
3	7	9	18	2024-09-15 13:00:00+00	2024-09-15 14:30:00+00
4	8	10	19	2024-09-15 16:00:00+00	2024-09-15 17:30:00+00
5	9	11	20	2024-09-15 18:00:00+00	2024-09-15 19:15:00+00
6	10	12	21	2024-09-15 20:00:00+00	2024-09-15 21:30:00+00
7	11	14	22	2024-09-15 22:00:00+00	2024-09-15 23:30:00+00
8	12	15	23	2024-09-16 00:00:00+00	2024-09-16 01:30:00+00
9	13	16	24	2024-09-16 01:45:00+00	2024-09-16 02:59:00+00
10	14	13	25	2024-09-15 03:15:00+00	2024-09-15 04:45:00+00
12	6	8	18	2024-09-16 11:15:00+00	2024-09-16 12:30:00+00
13	7	9	19	2024-09-16 13:00:00+00	2024-09-16 14:15:00+00
14	8	10	20	2024-09-16 15:30:00+00	2024-09-16 16:45:00+00
15	9	11	21	2024-09-16 17:00:00+00	2024-09-16 18:30:00+00
16	10	12	22	2024-09-16 19:00:00+00	2024-09-16 20:15:00+00
17	11	14	23	2024-09-16 21:00:00+00	2024-09-16 22:30:00+00
18	12	15	24	2024-09-16 23:00:00+00	2024-09-17 00:30:00+00
19	13	16	25	2024-09-17 01:00:00+00	2024-09-17 02:15:00+00
20	14	13	16	2024-09-17 03:30:00+00	2024-09-17 04:45:00+00
22	6	9	18	2024-09-17 07:15:00+00	2024-09-17 08:45:00+00
23	7	10	19	2024-09-17 09:30:00+00	2024-09-17 10:45:00+00
24	8	11	20	2024-09-17 11:00:00+00	2024-09-17 12:15:00+00
25	9	12	21	2024-09-17 12:30:00+00	2024-09-17 13:45:00+00
26	10	13	22	2024-09-17 14:00:00+00	2024-09-17 15:15:00+00
27	11	14	23	2024-09-17 15:30:00+00	2024-09-17 16:45:00+00
28	12	15	24	2024-09-17 17:00:00+00	2024-09-17 18:15:00+00
29	13	16	25	2024-09-17 18:30:00+00	2024-09-17 19:45:00+00
30	14	7	16	2024-09-17 20:00:00+00	2024-09-17 21:15:00+00
32	6	9	18	2024-09-17 23:00:00+00	2024-09-18 00:15:00+00
33	7	10	19	2024-09-18 00:30:00+00	2024-09-18 01:45:00+00
34	8	11	20	2024-09-18 03:00:00+00	2024-09-18 04:15:00+00
35	9	12	21	2024-09-18 04:30:00+00	2024-09-18 05:45:00+00
36	10	13	22	2024-09-18 06:00:00+00	2024-09-18 07:15:00+00
37	11	14	23	2024-09-18 08:00:00+00	2024-09-18 09:15:00+00
38	12	15	24	2024-09-18 09:30:00+00	2024-09-18 10:45:00+00
39	13	16	25	2024-09-18 11:00:00+00	2024-09-18 12:15:00+00
40	14	7	16	2024-09-18 12:30:00+00	2024-09-18 13:45:00+00
\.


--
-- TOC entry 3391 (class 0 OID 24576)
-- Dependencies: 215
-- Data for Name: __EFMigrationsHistory; Type: TABLE DATA; Schema: public; Owner: busmanager_owner
--

COPY public."__EFMigrationsHistory" ("MigrationId", "ProductVersion") FROM stdin;
20240907191800_FirstMigration	8.0.8
20240908001504_AddingDriversAndFixingBusTableName	8.0.8
20240908012749_AddingStationEntity	8.0.8
20240908013235_AdjustingStationColumns	8.0.8
20240908150200_CreatingLineEntity	8.0.8
20240908153422_CreatingStopRelation	8.0.8
20240908185159_DropingSequenceColumn	8.0.8
20240908210455_AddingTripEntity	8.0.8
20240914152429_AdjustingDateTimeTypeOfTrip	8.0.8
\.


--
-- TOC entry 3411 (class 0 OID 0)
-- Dependencies: 216
-- Name: Bus_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: busmanager_owner
--

SELECT pg_catalog.setval('public."Bus_Id_seq"', 15, true);


--
-- TOC entry 3412 (class 0 OID 0)
-- Dependencies: 218
-- Name: Drivers_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: busmanager_owner
--

SELECT pg_catalog.setval('public."Drivers_Id_seq"', 16, true);


--
-- TOC entry 3413 (class 0 OID 0)
-- Dependencies: 222
-- Name: Lines_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: busmanager_owner
--

SELECT pg_catalog.setval('public."Lines_Id_seq"', 25, true);


--
-- TOC entry 3414 (class 0 OID 0)
-- Dependencies: 227
-- Name: StationDto_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: busmanager_owner
--

SELECT pg_catalog.setval('public."StationDto_Id_seq"', 1, false);


--
-- TOC entry 3415 (class 0 OID 0)
-- Dependencies: 220
-- Name: Stations_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: busmanager_owner
--

SELECT pg_catalog.setval('public."Stations_Id_seq"', 21, true);


--
-- TOC entry 3416 (class 0 OID 0)
-- Dependencies: 225
-- Name: Trips_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: busmanager_owner
--

SELECT pg_catalog.setval('public."Trips_Id_seq"', 8, true);


--
-- TOC entry 3219 (class 2606 OID 32769)
-- Name: Buses PK_Buses; Type: CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Buses"
    ADD CONSTRAINT "PK_Buses" PRIMARY KEY ("Id");


--
-- TOC entry 3223 (class 2606 OID 32775)
-- Name: Drivers PK_Drivers; Type: CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Drivers"
    ADD CONSTRAINT "PK_Drivers" PRIMARY KEY ("Id");


--
-- TOC entry 3230 (class 2606 OID 49157)
-- Name: Lines PK_Lines; Type: CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Lines"
    ADD CONSTRAINT "PK_Lines" PRIMARY KEY ("Id");


--
-- TOC entry 3242 (class 2606 OID 73751)
-- Name: StationDto PK_StationDto; Type: CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."StationDto"
    ADD CONSTRAINT "PK_StationDto" PRIMARY KEY ("Id");


--
-- TOC entry 3226 (class 2606 OID 40965)
-- Name: Stations PK_Stations; Type: CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Stations"
    ADD CONSTRAINT "PK_Stations" PRIMARY KEY ("Id");


--
-- TOC entry 3234 (class 2606 OID 57348)
-- Name: Stops PK_Stops; Type: CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Stops"
    ADD CONSTRAINT "PK_Stops" PRIMARY KEY ("LineId", "StationId");


--
-- TOC entry 3240 (class 2606 OID 65566)
-- Name: Trips PK_Trips; Type: CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Trips"
    ADD CONSTRAINT "PK_Trips" PRIMARY KEY ("Id");


--
-- TOC entry 3215 (class 2606 OID 24580)
-- Name: __EFMigrationsHistory PK___EFMigrationsHistory; Type: CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");


--
-- TOC entry 3216 (class 1259 OID 24587)
-- Name: IX_Buses_Id; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Buses_Id" ON public."Buses" USING btree ("Id");


--
-- TOC entry 3217 (class 1259 OID 24588)
-- Name: IX_Buses_Plate; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Buses_Plate" ON public."Buses" USING btree ("Plate");


--
-- TOC entry 3220 (class 1259 OID 32776)
-- Name: IX_Drivers_CPF; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Drivers_CPF" ON public."Drivers" USING btree ("CPF");


--
-- TOC entry 3221 (class 1259 OID 32777)
-- Name: IX_Drivers_Id; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Drivers_Id" ON public."Drivers" USING btree ("Id");


--
-- TOC entry 3227 (class 1259 OID 49158)
-- Name: IX_Lines_Code; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Lines_Code" ON public."Lines" USING btree ("Code");


--
-- TOC entry 3228 (class 1259 OID 49159)
-- Name: IX_Lines_Id; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Lines_Id" ON public."Lines" USING btree ("Id");


--
-- TOC entry 3224 (class 1259 OID 40966)
-- Name: IX_Stations_Id; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Stations_Id" ON public."Stations" USING btree ("Id");


--
-- TOC entry 3231 (class 1259 OID 57359)
-- Name: IX_Stops_LineId_StationId; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE UNIQUE INDEX "IX_Stops_LineId_StationId" ON public."Stops" USING btree ("LineId", "StationId");


--
-- TOC entry 3232 (class 1259 OID 57360)
-- Name: IX_Stops_StationId; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Stops_StationId" ON public."Stops" USING btree ("StationId");


--
-- TOC entry 3235 (class 1259 OID 65582)
-- Name: IX_Trips_BusId; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Trips_BusId" ON public."Trips" USING btree ("BusId");


--
-- TOC entry 3236 (class 1259 OID 65583)
-- Name: IX_Trips_DriverId; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Trips_DriverId" ON public."Trips" USING btree ("DriverId");


--
-- TOC entry 3237 (class 1259 OID 65584)
-- Name: IX_Trips_Id; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Trips_Id" ON public."Trips" USING btree ("Id");


--
-- TOC entry 3238 (class 1259 OID 65585)
-- Name: IX_Trips_LineId; Type: INDEX; Schema: public; Owner: busmanager_owner
--

CREATE INDEX "IX_Trips_LineId" ON public."Trips" USING btree ("LineId");


--
-- TOC entry 3243 (class 2606 OID 57349)
-- Name: Stops FK_Stops_Lines_LineId; Type: FK CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Stops"
    ADD CONSTRAINT "FK_Stops_Lines_LineId" FOREIGN KEY ("LineId") REFERENCES public."Lines"("Id") ON DELETE RESTRICT;


--
-- TOC entry 3244 (class 2606 OID 57354)
-- Name: Stops FK_Stops_Stations_StationId; Type: FK CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Stops"
    ADD CONSTRAINT "FK_Stops_Stations_StationId" FOREIGN KEY ("StationId") REFERENCES public."Stations"("Id") ON DELETE RESTRICT;


--
-- TOC entry 3245 (class 2606 OID 65567)
-- Name: Trips FK_Trips_Buses_BusId; Type: FK CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Trips"
    ADD CONSTRAINT "FK_Trips_Buses_BusId" FOREIGN KEY ("BusId") REFERENCES public."Buses"("Id") ON DELETE CASCADE;


--
-- TOC entry 3246 (class 2606 OID 65572)
-- Name: Trips FK_Trips_Drivers_DriverId; Type: FK CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Trips"
    ADD CONSTRAINT "FK_Trips_Drivers_DriverId" FOREIGN KEY ("DriverId") REFERENCES public."Drivers"("Id") ON DELETE CASCADE;


--
-- TOC entry 3247 (class 2606 OID 65577)
-- Name: Trips FK_Trips_Lines_LineId; Type: FK CONSTRAINT; Schema: public; Owner: busmanager_owner
--

ALTER TABLE ONLY public."Trips"
    ADD CONSTRAINT "FK_Trips_Lines_LineId" FOREIGN KEY ("LineId") REFERENCES public."Lines"("Id") ON DELETE CASCADE;


--
-- TOC entry 2072 (class 826 OID 16391)
-- Name: DEFAULT PRIVILEGES FOR SEQUENCES; Type: DEFAULT ACL; Schema: public; Owner: cloud_admin
--

ALTER DEFAULT PRIVILEGES FOR ROLE cloud_admin IN SCHEMA public GRANT ALL ON SEQUENCES TO neon_superuser WITH GRANT OPTION;


--
-- TOC entry 2071 (class 826 OID 16390)
-- Name: DEFAULT PRIVILEGES FOR TABLES; Type: DEFAULT ACL; Schema: public; Owner: cloud_admin
--

ALTER DEFAULT PRIVILEGES FOR ROLE cloud_admin IN SCHEMA public GRANT ALL ON TABLES TO neon_superuser WITH GRANT OPTION;


-- Completed on 2024-09-14 17:36:13

--
-- PostgreSQL database dump complete
--

